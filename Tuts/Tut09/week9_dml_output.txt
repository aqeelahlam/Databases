SQL> 
SQL> -- 9.2.1: UPDATE
SQL> 
SQL> --TASK 1:
SQL> UPDATE UNIT
  2  SET UNIT_NAME = 'place holder unit'
  3  WHERE UNIT_CODE = 'FIT9999';

1 row updated.

SQL> 
SQL> COMMIT;

Commit complete.

SQL> 
SQL> --TASK 2:
SQL> UPDATE ENROLMENT
  2  SET ENROL_MARK = 75, ENROL_GRADE = 'D'
  3  WHERE 
  4  STU_NBR = '11111113' AND 
  5  UNIT_CODE = 'FIT5132' AND
  6  ENROL_SEMESTER = '2' AND
  7  ENROL_YEAR = 2014;

0 rows updated.

SQL> 
SQL> COMMIT;

Commit complete.

SQL> 
SQL> --TASK 3:
SQL> UPDATE ENROLMENT
  2  SET ENROL_GRADE = 'P1' 
  3  WHERE ENROL_MARK >= 45 and ENROL_MARK <=54;

0 rows updated.

SQL> 
SQL> UPDATE ENROLMENT
  2  SET ENROL_GRADE = 'P2'
  3  WHERE ENROL_MARK >= 55 and ENROL_MARK <=64;

1 row updated.

SQL> 
SQL> UPDATE ENROLMENT
  2  SET ENROL_GRADE = 'C'
  3  WHERE ENROL_MARK >= 65 and ENROL_MARK <=74;

0 rows updated.

SQL> 
SQL> UPDATE ENROLMENT
  2  SET ENROL_GRADE = 'D'
  3  WHERE ENROL_MARK >= 75 and ENROL_MARK <=84;

3 rows updated.

SQL> 
SQL> UPDATE ENROLMENT
  2  SET ENROL_GRADE = 'HD'
  3  WHERE ENROL_MARK >= 85 and ENROL_MARK <=100;

0 rows updated.

SQL> 
SQL> COMMIT;

Commit complete.

SQL> 
SQL> -- 9.2.2: DELETE
SQL> 
SQL> --TASK 1:
SQL> DELETE FROM ENROLMENT 
  2  WHERE 
  3  STU_NBR = 11111114 AND
  4  ENROL_SEMESTER = '2' AND
  5  ENROL_YEAR = 2014;

0 rows deleted.

SQL> 
SQL> COMMIT;

Commit complete.

SQL> 
SQL> --TASK 2 (ERROR DUE TO RESTRICT- DELETE CHILD FIRST)
SQL> 
SQL> DELETE FROM ENROLMENT 
  2  WHERE STU_NBR = 11111113;

0 rows deleted.

SQL> 
SQL> DELETE FROM STUDENT 
  2  WHERE STU_NBR = 11111113;

0 rows deleted.

SQL> 
SQL> COMMIT;

Commit complete.

SQL> 
SQL> --TASK 3:
SQL> 
SQL> INSERT INTO STUDENT VALUES (11111113,'Wheat','Wendy','05-May-1990');

1 row inserted.

SQL> 
SQL> INSERT INTO ENROLMENT VALUES (11111113,'FIT5132',2014,'2',null,null);

1 row inserted.

SQL> INSERT INTO ENROLMENT VALUES (11111113,'FIT5111',2014,'2',null,null);

1 row inserted.

SQL> 
SQL> COMMIT;

Commit complete.

SQL> 
SQL> --DROPPING FOREIGN KEY
SQL> 
SQL> ALTER TABLE ENROLMENT DROP CONSTRAINT FK_ENROLMENT_STUDENT;

Table ENROLMENT altered.

SQL> ALTER TABLE ENROLMENT ADD CONSTRAINT FK_ENROLMENT_STUDENT FOREIGN KEY(STU_NBR) REFERENCES STUDENT(STU_NBR)
  2  ON DELETE CASCADE;

Table ENROLMENT altered.

SQL> 
SQL> DELETE FROM STUDENT 
  2  WHERE STU_NBR = 11111113;

1 row deleted.

SQL> 
SQL> COMMIT;

Commit complete.

SQL> 
SQL> SPOOL OFF
